<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>postOffice</title>
<link href="../../../../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script><script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../../styles/style.css" rel="Stylesheet"><link href="../../../styles/logo-styles.css" rel="Stylesheet"><link href="../../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../../styles/main.css" rel="Stylesheet"><script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../../scripts/main.js" async="async"></script><link href="../../../images/docs_logo.svg"><link href="../../../images/arrow_down.svg">  </head>
  <body>
    <div id="container">
      <div id="leftColumn"><a href="../../../index.html">
          <div id="logo"></div>
        </a>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
<script type="text/javascript" src="../../../scripts/main.js"></script>        <div class="main-content" id="content" pageIds="Conclave 1.1::com.r3.conclave.enclave/Enclave/postOffice/#java.security.PublicKey#kotlin.String/PointingToDeclaration//-654294413">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../../index.html">Conclave 1.1</a>/<a href="../index.html">com.r3.conclave.enclave</a>/<a href="index.html">Enclave</a>/<a href="post-office.html">postOffice</a></div>
            <div class="pull-right d-flex">
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>post</span><wbr></wbr><span>Office</span></h1>
          </div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div class="symbol monospace block"><a href="../-enclave-post-office/index.html">EnclavePostOffice</a> <a href="post-office.html">postOffice</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> destinationPublicKey, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a> topic)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Returns a post office for mail targeted at the given destination key, and having the given topic. The post office is setup with the enclave's private encryption key so the receipient can be sure mail originated from this enclave.</p><p class="paragraph">The enclave will cache post offices so that the same instance is used for the same public key and topic. This ensures mail is sequenced correctly.</p><p class="paragraph">The recipient should use <a href="../../com.r3.conclave.mail/-post-office/decrypt-mail.html">PostOffice.decryptMail</a> to make sure it verifies this enclave as the sender of the mail.</p><p class="paragraph">If the destination is an enclave then use the overload which takes in an <a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> instead.</p><h2 class="">See also</h2><div data-togglable="See also"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="See also"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div data-togglable="See also"><div class="table" data-togglable="See also"><div class="table-row" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="main-subrow keyValue WithExtraAttributes RowTitle"><div class=""><span class="inline-flex"></span><span class="inline-flex"><div data-togglable="See also"><p class="paragraph"><a href="https://docs.conclave.net/mail.html#using-mail-for-storage">Using mail for storage</a></p></div></span></div><div></div></div></div></div></div></div></div></div></div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div class="symbol monospace block"><a href="../-enclave-post-office/index.html">EnclavePostOffice</a> <a href="post-office.html">postOffice</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> destinationPublicKey)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Returns a post office for mail targeted at the given destination key, and having the topic &quot;default&quot;. The post office is setup with the enclave's private encryption key so the receipient can be sure mail originated from this enclave.</p><p class="paragraph">The enclave will cache post offices so that the same instance is used for the same public key and topic. This ensures mail is sequenced correctly.</p><p class="paragraph">The recipient should use <a href="../../com.r3.conclave.mail/-post-office/decrypt-mail.html">PostOffice.decryptMail</a> to make sure it verifies this enclave as the sender of the mail.</p><p class="paragraph">If the destination is an enclave then use the overload which takes in an <a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> instead.</p><h2 class="">See also</h2><div data-togglable="See also"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="See also"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div data-togglable="See also"><div class="table" data-togglable="See also"><div class="table-row" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="main-subrow keyValue WithExtraAttributes RowTitle"><div class=""><span class="inline-flex"></span><span class="inline-flex"><div data-togglable="See also"><p class="paragraph"><a href="https://docs.conclave.net/mail.html#using-mail-for-storage">Using mail for storage</a></p></div></span></div><div></div></div></div></div></div></div></div></div></div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div class="symbol monospace block"><a href="../-enclave-post-office/index.html">EnclavePostOffice</a> <a href="post-office.html">postOffice</a>(<a href="../../com.r3.conclave.mail/-enclave-mail/index.html">EnclaveMail</a> mail)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Returns a post office for responding back to the sender of the given mail. This is a convenience method which calls <code>postOffice(PublicKey, String)</code> with the mail's authenticated sender key and topic.</p><p class="paragraph">Note: Do not use this overload if the sender of the mail is another enclave. <code>postOffice(EnclaveInstanceInfo)</code> must still be used when responding back to an enclave. This may mean having to ingest the sender's <a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> object beforehand.</p><h2 class="">See also</h2><div data-togglable="See also"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="See also"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div data-togglable="See also"><div class="table" data-togglable="See also"><div class="table-row" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="main-subrow keyValue WithExtraAttributes RowTitle"><div class=""><span class="inline-flex"></span><span class="inline-flex"><div data-togglable="See also"><p class="paragraph"><a href="https://docs.conclave.net/mail.html#using-mail-for-storage">Using mail for storage</a></p></div></span></div><div></div></div></div></div></div></div></div></div></div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div class="symbol monospace block"><a href="../-enclave-post-office/index.html">EnclavePostOffice</a> <a href="post-office.html">postOffice</a>(<a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> enclaveInstanceInfo, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a> topic)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Returns a post office for mail targeted to an enclave with the given topic. The target enclave can be one running on this host or on another machine, and can even be this enclave if <a href="post-office.html">enclaveInstanceInfo</a> is used (and thus enabling the mail-to-self pattern). The post office is setup with the enclave's private encryption key so the receipient can be sure mail originated from this enclave.</p><p class="paragraph">The enclave will cache post offices so that the same instance is used for the same <a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> and topic. This ensures mail is sequenced correctly.</p><p class="paragraph">The recipient should use <a href="../../com.r3.conclave.mail/-post-office/decrypt-mail.html">PostOffice.decryptMail</a> to make sure it verifies this enclave as the sender of the mail.</p><h2 class="">See also</h2><div data-togglable="See also"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="See also"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div data-togglable="See also"><div class="table" data-togglable="See also"><div class="table-row" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="main-subrow keyValue WithExtraAttributes RowTitle"><div class=""><span class="inline-flex"></span><span class="inline-flex"><div data-togglable="See also"><p class="paragraph"><a href="https://docs.conclave.net/mail.html#using-mail-for-storage">Using mail for storage</a></p></div></span></div><div></div></div></div></div></div></div></div></div></div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div class="symbol monospace block"><a href="../-enclave-post-office/index.html">EnclavePostOffice</a> <a href="post-office.html">postOffice</a>(<a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> enclaveInstanceInfo)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Returns a post office for mail targeted to an enclave with the topic &quot;default&quot;. The target enclave can be one running on this host or on another machine, and can even be this enclave if <a href="post-office.html">enclaveInstanceInfo</a> is used (and thus enabling the mail-to-self pattern). The post office is setup with the enclave's private encryption key so the receipient can be sure mail did indeed originate from this enclave.</p><p class="paragraph">The enclave will cache post offices so that the same instance is used for the same <a href="../../com.r3.conclave.common/-enclave-instance-info/index.html">EnclaveInstanceInfo</a> and topic. This ensures mail is sequenced correctly.</p><p class="paragraph">The recipient should use <a href="../../com.r3.conclave.mail/-post-office/decrypt-mail.html">PostOffice.decryptMail</a> to make sure it verifies this enclave as the sender of the mail.</p><h2 class="">See also</h2><div data-togglable="See also"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="See also"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/conclave"><div data-togglable="See also"><div class="table" data-togglable="See also"><div class="table-row" data-filterable-current=":dokkaHtml/conclave" data-filterable-set=":dokkaHtml/conclave"><div class="main-subrow keyValue WithExtraAttributes RowTitle"><div class=""><span class="inline-flex"></span><span class="inline-flex"><div data-togglable="See also"><p class="paragraph"><a href="https://docs.conclave.net/mail.html#using-mail-for-storage">Using mail for storage</a></p></div></span></div><div></div></div></div></div></div></div></div></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span><a href="https://docs.conclave.net">&#60;&#60; Back to Conclave documentation</a></span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

